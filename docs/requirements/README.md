# 개요
해당 디렉토리는 요구사항에 대해 정리된 디렉토리입니다.

# 프로젝트 개요 및 목적
해당 프로젝트는 이커머스의 핵심 기능을 구현하는 프로젝트로 아래와 같은 기능을 수행합니다.

1. 상품 관리
   - 상품 정보 조회 (가격, 재고)
   - 재고 실시간 확인
   - 인기 상품 통계 (최근 3일, Top 5)

2. 주문/결제 시스템
   - 장바구니 기능
   - 재고 확인 및 차감
   - 포인트 기반 결제 (PG 연동 대체)
   - 쿠폰 할인 적용

3. 포인트 시스템
   - 포인트 충전 (1,000원 단위)
   - 포인트 잔액 조회
   - 포인트 사용 내역 관리

4. 쿠폰 시스템
   - 선착순 발급 (한정 수량)
   - 쿠폰 유효성 검증
   - 사용 이력 관리

5. 데이터 연동
   - 주문 데이터 외부 전송
   - 실패 시에도 주문은 정상 처리

프로젝트의 판매 물품은 기본적인 의류 판매 이커머스를 의미합니다.

---

# 주요 이해관계자

기본적인 이커머스 프로젝트로서 주요 이해관계자는 다음과 같습니다.

## 소비자 (이커머스 서비스 사용자)
- 상품을 구매하고자 하는 최종 사용자
- 상품 조회, 장바구니 관리, 주문/결제, 쿠폰 발급 및 사용 등의 기능을 이용
- 정확한 재고 정보와 원활한 결제 경험을 기대

## 판매자 (이커머스 서비스 관리자)
- 이커머스를 운영하는 주체
- 상품 등록 및 관리, 재고 관리, 주문 처리, 쿠폰 발행 등의 업무를 수행
- 정확한 판매 통계와 재고 관리를 통한 효율적인 운영을 목표로 함

## 외부 데이터 플랫폼
- 주문 데이터를 수신하는 외부 시스템
- 마케팅, 분석, 리포팅 등의 목적으로 주문 데이터 활용
- 안정적인 데이터 수신을 기대하나, 장애 시에도 주문 처리에 영향을 주지 않아야 함

---

# 핵심 비즈니스 구현 요소

## 재고 관리
- 재고는 실시간으로 확인 가능해야 하며, 주문 시점에 정확히 차감되어야 함
- 동시 주문 발생 시에도 재고가 초과 차감되지 않도록 보장
- 결제 실패 시, 차감된 재고는 즉시 복원되어야 함

## 쿠폰 시스템
- 선착순 쿠폰은 설정된 수량이 소진될 때까지만 발급 가능
- 사용자 당 동일 쿠폰은 1회만 발급 가능
- 쿠폰 사용 시 유효기간, 사용 여부를 검증해야 함
- 쿠폰은 주문 시 1개만 적용 가능

## 포인트 시스템
- 포인트는 충전/사용/환불로 관리됨
- 충전 단위: 1,000원 단위, 1,000원 ~ 1,000,000원
- 최대 보유 포인트: 10,000,000원
- 포인트 충전/차감 시 동시성 제어 필요

## 주문/결제 프로세스
- 주문 생성 → 재고 확인 → 쿠폰 적용 → 결제 처리 → 재고 차감 → 주문 완료 순서로 진행
- 결제는 사용자의 포인트 잔액을 기반으로 처리
- 포인트 잔액 부족 시 주문은 실패 처리
- 외부 데이터 전송 실패는 주문 완료에 영향을 주지 않음

---

# 비기능 요구사항
해당 요구사항은 임의의 요구사항입니다.

## 성능
- 상품 조회 API 응답 시간: 평균 200ms 이하
- 주문 처리 시간: 평균 1초 이하
- 동시 사용자: 최소 1,000명 처리 가능

## 가용성
- 시스템 가동률: 99.9% 이상
- 외부 시스템 장애 시에도 핵심 기능(주문/결제)은 정상 동작

## 확장성
- 상품 수: 최소 10,000개 이상 지원
- 일일 주문 건수: 최소 10,000건 이상 처리 가능

## 데이터 일관성
- 재고 차감은 원자성을 보장해야 함
- 주문과 결제 데이터는 트랜잭션으로 처리
- 쿠폰 발급 수량은 정확히 제어되어야 함
- 포인트 차감/충전은 원자성을 보장해야 함

---

# 도메인별 상세 요구사항
각 도메인별 상세 요구사항은 아래 문서를 참조하세요.
- [유저 (User)](./user.md) - 사용자 정보 관리 및 배송지 관리
- [상품관리 (Product)](./product.md) - 상품 CRUD, 재고 관리, 인기 상품 통계
- [장바구니 (Cart)](./cart.md) - 장바구니 항목 추가/수정/삭제
- [결제 (Payment)](./payment.md) - 포인트 관리 및 결제 처리
- [주문 (Order)](./order.md) - 주문 생성 및 상태 관리
- [쿠폰 (Coupon)](./coupon.md) - 쿠폰 발급, 사용, 검증

---

# 제약사항 및 가정

## 기술적 제약사항
- 데이터베이스: 관계형 DB 사용 (MySQL 8.0)
- 재고 동시성 제어 구현 필요
- 쿠폰 선착순 발급에 대한 동시성 제어 구현 필요
- 포인트 충전/차감에 대한 동시성 제어 구현 필요

## 비즈니스 가정
- 모든 가격은 원화(KRW) 단위
- 배송비는 별도로 계산하지 않음 (향후 확장 가능)
- 환불/취소 기능은 1차 범위에서 제외
- 사용자 인증은 구현되어 있다고 가정
- 결제 과정은 PG사 연동이 필요하므로, 포인트 충전/사용으로 대체